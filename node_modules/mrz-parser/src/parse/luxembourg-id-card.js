const { LUXEMBOURG_ID_CARD } = require('./formats');

const { getValidLines } = require('./checkLines');
const getResult = require('./getResult');
const { fields } = require('./luxembourg-id-card-fields');
const createFieldParser = require('./createFieldParser');

const parseLuxembourgIdCard = (mrzLines) => {
  const lines = getValidLines(mrzLines, 1, 38, LUXEMBOURG_ID_CARD);
  return getResult(LUXEMBOURG_ID_CARD, lines, fields.map(createFieldParser));
};

module.exports = parseLuxembourgIdCard;
